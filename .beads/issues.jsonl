{"id":"kit-a4u","title":"OSS readiness for @lytx/core Cloudflare self-hosting","description":"Track all work required to make @lytx/core a stable open-source library for user-managed Cloudflare deployments via Alchemy.","acceptance_criteria":"Public API surface and deployment workflow are documented, tested, and versioned for external users.","status":"open","priority":0,"issue_type":"epic","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.186321933-05:00","created_by":"JonathanRiche","updated_at":"2026-02-17T23:57:57.186321933-05:00","labels":["alchemy","core","oss","self-host"]}
{"id":"kit-a4u.1","title":"Define OSS contract for @lytx/core","description":"Define what is public, what is internal, and which customization points are officially supported for consumers.","acceptance_criteria":"A published contract lists supported exports, extension points, and deprecation policy.","status":"closed","priority":0,"issue_type":"task","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.213612672-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:08:39.230379359-05:00","closed_at":"2026-02-18T00:08:39.230379359-05:00","close_reason":"OSS contract documented and linked","labels":["api","core","oss"],"dependencies":[{"issue_id":"kit-a4u.1","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.214860566-05:00","created_by":"JonathanRiche"}],"comments":[{"id":1,"issue_id":"kit-a4u.1","author":"JonathanRiche","text":"Implemented OSS contract docs for @lytx/core in core/docs/oss-contract.md and linked it from core/README.md. Contract now explicitly classifies stable root exports, experimental public subpaths (@lytx/core/worker and @lytx/core/db/durable/siteDurableObject), and unsupported internal/deep imports. Added supported extension points (feature flags, binding/resource naming, domain/env expectations) plus semver/deprecation policy with migration guidance. Updated demo/alchemy.run.ts to use root public entrypoint for SiteDurableObject type import. Follow-up gaps intentionally documented: add metadata deprecation notice/removal target for legacy subpath export, add CI guardrails for deep imports in docs/examples, and decide long-term status of @lytx/core/worker.","created_at":"2026-02-18T05:08:39Z"}]}
{"id":"kit-a4u.10","title":"Publish upgrade and migration guide for breaking changes","description":"Provide migration instructions for config, resources, and schema changes between versions.","acceptance_criteria":"Each release includes migration notes and known compatibility caveats.","status":"open","priority":1,"issue_type":"task","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.451400898-05:00","created_by":"JonathanRiche","updated_at":"2026-02-17T23:57:57.451400898-05:00","labels":["core","docs","oss","releases"],"dependencies":[{"issue_id":"kit-a4u.10","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.45222382-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.10","depends_on_id":"kit-a4u.4","type":"blocks","created_at":"2026-02-17T23:59:13.830697431-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.10","depends_on_id":"kit-a4u.5","type":"blocks","created_at":"2026-02-17T23:59:13.854565594-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.10","depends_on_id":"kit-a4u.6","type":"blocks","created_at":"2026-02-17T23:59:13.878546056-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.10","depends_on_id":"kit-a4u.11","type":"blocks","created_at":"2026-02-17T23:59:13.925924795-05:00","created_by":"JonathanRiche"}]}
{"id":"kit-a4u.11","title":"Define semver and release process with compatibility matrix","description":"Establish release workflow, changelog conventions, and compatibility support for Alchemy/rwsdk/wrangler/vite versions.","acceptance_criteria":"Versioning policy and compatibility matrix are documented and enforced in release checklist.","status":"open","priority":1,"issue_type":"task","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.477701023-05:00","created_by":"JonathanRiche","updated_at":"2026-02-17T23:57:57.477701023-05:00","labels":["core","oss","release"],"dependencies":[{"issue_id":"kit-a4u.11","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.478680731-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.11","depends_on_id":"kit-a4u.1","type":"blocks","created_at":"2026-02-17T23:59:13.901820416-05:00","created_by":"JonathanRiche"}]}
{"id":"kit-a4u.12","title":"Add OSS repository governance files and templates","description":"Add LICENSE, CONTRIBUTING, SECURITY policy, and issue/PR templates for open-source maintainability.","acceptance_criteria":"Repository includes governance docs and templates referenced from README.","status":"open","priority":1,"issue_type":"chore","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.502844765-05:00","created_by":"JonathanRiche","updated_at":"2026-02-17T23:57:57.502844765-05:00","labels":["core","governance","oss"],"dependencies":[{"issue_id":"kit-a4u.12","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.503840934-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.12","depends_on_id":"kit-a4u.1","type":"blocks","created_at":"2026-02-17T23:59:13.948349468-05:00","created_by":"JonathanRiche"}]}
{"id":"kit-a4u.2","title":"Create canonical createLytxApp app factory","description":"Expose one stable factory entrypoint so consumers configure deployments without wiring internals manually.","acceptance_criteria":"Consumers can bootstrap an app with createLytxApp(config) and no direct internal imports.","status":"closed","priority":0,"issue_type":"feature","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.240074975-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:17:53.157809659-05:00","closed_at":"2026-02-18T00:17:53.157809659-05:00","close_reason":"Canonical createLytxApp factory implemented and documented","labels":["api","core","oss"],"dependencies":[{"issue_id":"kit-a4u.2","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.240990579-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.2","depends_on_id":"kit-a4u.1","type":"blocks","created_at":"2026-02-17T23:59:13.365628456-05:00","created_by":"JonathanRiche"}],"comments":[{"id":2,"issue_id":"kit-a4u.2","author":"JonathanRiche","text":"Implemented canonical root-level createLytxApp factory in core/src/worker.tsx with a stable CreateLytxAppConfig surface so consumers can bootstrap fetch+queue handlers without internal wiring. Added configuration for tag routes (dbAdapter, queue ingestion, legacy-route compatibility, custom script/event paths) and feature toggles (report builder + Ask AI overrides). Exported createLytxApp from @lytx/core root (index.ts/index.d.ts), updated docs (core/README.md, core/docs/oss-contract.md), and updated demo consumer worker to use root createLytxApp instead of @lytx/core/worker. Follow-up gap: full package-wide tsc still has pre-existing unrelated errors in alchemy/ and postgres config paths; touched app-factory files typecheck cleanly.","created_at":"2026-02-18T05:17:53Z"}]}
{"id":"kit-a4u.3","title":"Add typed config schema and startup validation","description":"Introduce a strict config schema for names, domains, feature flags, and env requirements with actionable errors.","acceptance_criteria":"Invalid config fails fast with clear field-level errors and docs links.","status":"closed","priority":0,"issue_type":"feature","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.266779569-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:21:34.557444006-05:00","closed_at":"2026-02-18T00:21:34.557444006-05:00","close_reason":"Typed config schema and startup validation added for createLytxApp","labels":["config","core","oss"],"dependencies":[{"issue_id":"kit-a4u.3","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.26765323-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.3","depends_on_id":"kit-a4u.1","type":"blocks","created_at":"2026-02-17T23:59:13.390153061-05:00","created_by":"JonathanRiche"}],"comments":[{"id":3,"issue_id":"kit-a4u.3","author":"JonathanRiche","text":"Added strict typed startup config schema for createLytxApp in core/src/config/createLytxAppConfig.ts using zod. Validation now covers feature flags, tag route paths, resource/binding names, domain settings, and env requirements with field-level errors plus docs links. Integrated fail-fast validation into createLytxApp (core/src/worker.tsx) so invalid config throws during startup. Updated README and oss-contract docs to document createLytxApp config surface and validation behavior, and kept demo worker on root public entrypoints. Runtime smoke checks were run for invalid path and invalid feature combinations; full package tsc still has unrelated pre-existing errors outside touched files.","created_at":"2026-02-18T05:21:34Z"}]}
{"id":"kit-a4u.4","title":"Implement modular feature flags for optional components","description":"Allow users to opt in or out of major capabilities such as dashboard, events, auth, AI, and tag script.","acceptance_criteria":"Feature toggles work without code edits and disabled features remove routes/resources safely.","status":"closed","priority":0,"issue_type":"feature","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.292490199-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:27:28.314717059-05:00","closed_at":"2026-02-18T00:27:28.314717059-05:00","close_reason":"Modular feature flags implemented and route gating added","labels":["core","features","oss"],"dependencies":[{"issue_id":"kit-a4u.4","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.293451992-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.4","depends_on_id":"kit-a4u.2","type":"blocks","created_at":"2026-02-17T23:59:13.415216153-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.4","depends_on_id":"kit-a4u.3","type":"blocks","created_at":"2026-02-17T23:59:13.441506328-05:00","created_by":"JonathanRiche"}],"comments":[{"id":4,"issue_id":"kit-a4u.4","author":"JonathanRiche","text":"Implemented modular feature toggles in createLytxApp for dashboard, events, auth, AI, and tag-script capabilities. Added runtime/env-backed feature readers in core/src/lib/featureFlags.ts (LYTX_FEATURE_DASHBOARD, LYTX_FEATURE_EVENTS, LYTX_FEATURE_AUTH, LYTX_FEATURE_AI, LYTX_FEATURE_TAG_SCRIPT), expanded typed config schema in core/src/config/createLytxAppConfig.ts, and gated worker routes/pages/APIs in core/src/worker.tsx so disabled capabilities remove corresponding routes without source edits. Added validation for incompatible combinations (dashboard+auth dependency, reportBuilder requiring dashboard, Ask AI requiring AI), and documented new toggles in README + OSS contract docs. Smoke checks confirmed invalid combinations fail with field-level errors.","created_at":"2026-02-18T05:27:28Z"}]}
{"id":"kit-a4u.5","title":"Support configurable resource naming strategy","description":"Provide explicit naming controls for KV, D1, DO, queues, and stage-based prefixes/suffixes.","acceptance_criteria":"Users can customize resource names deterministically and deployments remain idempotent.","status":"closed","priority":0,"issue_type":"feature","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.318881691-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:33:22.771276087-05:00","closed_at":"2026-02-18T00:33:22.771276087-05:00","close_reason":"Configurable deterministic resource naming strategy implemented","labels":["cloudflare","core","oss"],"dependencies":[{"issue_id":"kit-a4u.5","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.319874285-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.5","depends_on_id":"kit-a4u.2","type":"blocks","created_at":"2026-02-17T23:59:13.48592794-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.5","depends_on_id":"kit-a4u.3","type":"blocks","created_at":"2026-02-17T23:59:13.515484374-05:00","created_by":"JonathanRiche"}],"comments":[{"id":5,"issue_id":"kit-a4u.5","author":"JonathanRiche","text":"Implemented configurable resource naming strategy with deterministic resolution for Cloudflare resources. Added core/src/config/resourceNames.ts with typed defaults + resolver (resolveLytxResourceNames) supporting global prefix/suffix, stage placement (prefix/suffix/none), and per-resource overrides for KV, D1, Durable Object namespace, queue, and worker names. Wired strategy into core/alchemy.run.ts and demo/alchemy.run.ts via LYTX_RESOURCE_PREFIX / LYTX_RESOURCE_SUFFIX / LYTX_RESOURCE_STAGE_POSITION and per-resource env overrides, while keeping runtime binding keys unchanged for compatibility. Exported naming helper/types from @lytx/core root and documented strategy in README + OSS contract. Smoke checks verified deterministic output and stage/prefix/suffix behavior.","created_at":"2026-02-18T05:33:22Z"}]}
{"id":"kit-a4u.6","title":"Add domain and routing configuration for app and tracking","description":"Allow custom app domain, tracking domain, and route prefixes through config rather than source edits.","acceptance_criteria":"Domain and route options are configurable in Alchemy script and reflected in runtime behavior.","status":"closed","priority":0,"issue_type":"feature","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.345461753-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:36:05.450510247-05:00","closed_at":"2026-02-18T00:36:05.450510247-05:00","close_reason":"Domain and route-prefix configuration implemented and documented","labels":["core","domains","oss"],"dependencies":[{"issue_id":"kit-a4u.6","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.346392486-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.6","depends_on_id":"kit-a4u.2","type":"blocks","created_at":"2026-02-17T23:59:13.540864478-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.6","depends_on_id":"kit-a4u.3","type":"blocks","created_at":"2026-02-17T23:59:13.564430626-05:00","created_by":"JonathanRiche"}],"comments":[{"id":6,"issue_id":"kit-a4u.6","author":"JonathanRiche","text":"Implemented domain + routing configurability without source edits. Added app/tracking domain controls to alchemy scripts via LYTX_APP_DOMAIN and LYTX_TRACKING_DOMAIN (core/alchemy.run.ts + demo/alchemy.run.ts), wiring optional Redwood domains and LYTX_DOMAIN binding fallback behavior. Added typed route-prefix support for tracking endpoints via createLytxApp config (tagRoutes.pathPrefix) with validation in createLytxApp config schema and runtime prefix application in worker route setup. Updated README and OSS contract docs to document supported domain variables and route-prefix behavior. Smoke checks confirmed valid/invalid prefix validation behavior and typecheck for touched files.","created_at":"2026-02-18T05:36:05Z"}]}
{"id":"kit-a4u.7","title":"Ship consumer starter template for Alchemy deployments","description":"Provide minimal worker, vite, and alchemy.run template that uses only public exports from @lytx/core.","acceptance_criteria":"A new user can copy template, set env vars, and run local dev/deploy successfully.","status":"closed","priority":0,"issue_type":"task","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.372016432-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:39:47.974354561-05:00","closed_at":"2026-02-18T00:39:47.974354561-05:00","close_reason":"Consumer starter template shipped and documented","labels":["core","examples","oss"],"dependencies":[{"issue_id":"kit-a4u.7","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.372901283-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.7","depends_on_id":"kit-a4u.4","type":"blocks","created_at":"2026-02-17T23:59:13.588685813-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.7","depends_on_id":"kit-a4u.5","type":"blocks","created_at":"2026-02-17T23:59:13.613273685-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.7","depends_on_id":"kit-a4u.6","type":"blocks","created_at":"2026-02-17T23:59:13.636724793-05:00","created_by":"JonathanRiche"}],"comments":[{"id":7,"issue_id":"kit-a4u.7","author":"JonathanRiche","text":"Shipped consumer starter template centered on demo workspace with copy-ready worker/vite/alchemy files that rely on public root exports from @lytx/core. Updated demo/README.md to document template usage, setup flow, and supported config knobs; added demo/.env.example for bootstrap. Updated demo/alchemy.run.ts and demo/vite.config.ts to resolve @lytx/core package root via @lytx/core/package.json (public export) so the template works outside this monorepo, while keeping worker integration on createLytxApp + root exports. Linked starter template from core/README.md for OSS discoverability.","created_at":"2026-02-18T05:39:47Z"}]}
{"id":"kit-a4u.8","title":"Write self-host quickstart and troubleshooting docs","description":"Document setup from zero to deployed, including required Cloudflare resources, env variables, and common pitfalls.","acceptance_criteria":"Quickstart is validated end-to-end and includes troubleshooting for top failure cases.","status":"closed","priority":0,"issue_type":"task","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.398427954-05:00","created_by":"JonathanRiche","updated_at":"2026-02-18T00:41:00.016226527-05:00","closed_at":"2026-02-18T00:41:00.016226527-05:00","close_reason":"Self-host quickstart and troubleshooting docs published","labels":["core","docs","oss"],"dependencies":[{"issue_id":"kit-a4u.8","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.399379408-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.8","depends_on_id":"kit-a4u.4","type":"blocks","created_at":"2026-02-17T23:59:13.661533061-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.8","depends_on_id":"kit-a4u.5","type":"blocks","created_at":"2026-02-17T23:59:13.684203068-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.8","depends_on_id":"kit-a4u.6","type":"blocks","created_at":"2026-02-17T23:59:13.709601608-05:00","created_by":"JonathanRiche"}],"comments":[{"id":8,"issue_id":"kit-a4u.8","author":"JonathanRiche","text":"Added dedicated self-host quickstart and troubleshooting guide at core/docs/self-host-quickstart.md covering zero-to-deploy flow, required Cloudflare bindings, env vars, route-prefix/domain config, deployment commands, and operational validation checklist. Included troubleshooting for common failure modes (binding mismatches, auth callback issues, tracking 404s, feature-flag gating, queue processing, and naming drift). Linked quickstart from core/README.md and demo/README.md so starter/template users can find setup guidance immediately.","created_at":"2026-02-18T05:40:59Z"}]}
{"id":"kit-a4u.9","title":"Add CI smoke tests for default and customized deploy modes","description":"Add automated checks for baseline deploy plus customized names/domains/features scenarios.","acceptance_criteria":"CI runs typecheck/lint/tests and deploy smoke checks for at least two config profiles.","status":"open","priority":1,"issue_type":"task","owner":"j.riche64@gmail.com","created_at":"2026-02-17T23:57:57.424398365-05:00","created_by":"JonathanRiche","updated_at":"2026-02-17T23:57:57.424398365-05:00","labels":["ci","core","oss"],"dependencies":[{"issue_id":"kit-a4u.9","depends_on_id":"kit-a4u","type":"parent-child","created_at":"2026-02-17T23:57:57.425409852-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.9","depends_on_id":"kit-a4u.4","type":"blocks","created_at":"2026-02-17T23:59:13.734644997-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.9","depends_on_id":"kit-a4u.5","type":"blocks","created_at":"2026-02-17T23:59:13.759140003-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.9","depends_on_id":"kit-a4u.6","type":"blocks","created_at":"2026-02-17T23:59:13.7817118-05:00","created_by":"JonathanRiche"},{"issue_id":"kit-a4u.9","depends_on_id":"kit-a4u.7","type":"blocks","created_at":"2026-02-17T23:59:13.805818139-05:00","created_by":"JonathanRiche"}]}
